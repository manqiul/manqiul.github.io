<!DOCTYPE html>
<html lang="en">

  <head>
    
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>

  Manqiu  L.


  | Recommendation Algorithm Basics

</title>
<meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design.
">

<!-- Open Graph -->


<!-- Bootstrap & MDB -->
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" integrity="sha512-RO38pBRxYH3SoOprtPTD86JFOclM51/XTIdEPh5j8sj4tp8jmQIx26twG52UaLi//hQldfrh7e51WzP9wuP32Q==" crossorigin="anonymous" />

<!-- Fonts & Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"  integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

<!-- Code Syntax Highlighting -->
<link rel="stylesheet" href="https://gitcdn.link/repo/jwarby/jekyll-pygments-themes/master/github.css" />

<!-- Styles -->

<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üåå</text></svg>">

<link rel="stylesheet" href="/assets/css/main.css">
<link rel="canonical" href="https://manqiul.github.io/blog/2021/Notes-Recommender-System/">


<!-- Dark Mode -->
<script src="/assets/js/theme.js"></script>
<script src="/assets/js/dark_mode.js"></script>


  </head>

  <body class="fixed-top-nav ">

    <!-- Header -->

    <header>

    <!-- Nav Bar -->
    <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
    <div class="container">
      
      <a class="navbar-brand title font-weight-lighter" href="https://manqiul.github.io/">
       <span class="font-weight-bold">Manqiu</span>   L.
      </a>
      
      <!-- Navbar Toggle -->
      <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar top-bar"></span>
        <span class="icon-bar middle-bar"></span>
        <span class="icon-bar bottom-bar"></span>
      </button>
      <div class="collapse navbar-collapse text-right" id="navbarNav">
        <ul class="navbar-nav ml-auto flex-nowrap">
          <!-- About -->
          <li class="nav-item ">
            <a class="nav-link" href="/">
              About
              
            </a>
          </li>
          
          <!-- Blog -->
          <li class="nav-item active">
            <a class="nav-link" href="/blog/">
              Blog
              
            </a>
          </li>
          
          <!-- Other pages -->
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/courses/">
                Courses
                
              </a>
          </li>
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/experiences/">
                Experiences
                
              </a>
          </li>
          
          
          
          
          
          <li class="nav-item dropdown ">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Interests
                
              </a>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
              
              
                <a class="dropdown-item" href="/photography/">Photography</a>
              
              
              
                <div class="dropdown-divider"></div>
              
              
              
                <a class="dropdown-item" href="/reading/">Reading</a>
              
              
              </div>
          </li>
          
          
          
          
          
          
          
          
          
          <li class="nav-item ">
              <a class="nav-link" href="/projects/">
                Projects
                
              </a>
          </li>
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
          
            <div class="toggle-container">
              <a id="light-toggle">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
              </a>
            </div>
          
        </ul>
      </div>
    </div>
  </nav>

</header>


    <!-- Content -->

    <div class="container mt-5">
      





<div class="post">

  <header class="post-header">
    <h2 class="post-title">Recommendation Algorithm Basics</h2>
    <p class="post-meta">December 10, 2021</p>
    <p class="post-tags">
      <a href="/blog/2021"> <i class="fas fa-calendar fa-sm"></i> 2021 </a>
      
      ¬† ¬∑ ¬†
        
        <a href="/blog/tag/machinglearning">
          <i class="fas fa-hashtag fa-sm"></i> machinglearning</a> ¬†
          
      

      
      ¬† ¬∑ ¬†
        
        <a href="/blog/category/notes">
          <i class="fas fa-tag fa-sm"></i> notes</a> ¬†
          
      

    </p>
  </header>

  <article class="post-content">
    <p>This is based on <a href="https://www.udemy.com/course/recommender-systems/learn/lecture/11686566#overview" target="_blank" rel="noopener noreferrer">udemy course recommender system</a></p>

<h2 id="1-hacker-news-formula">1. Hacker News Formula</h2>

<p><a href="http://www.righto.com/2013/11/how-hacker-news-ranking-really-works.html" target="_blank" rel="noopener noreferrer">Hacker News intro</a></p>

<figure>

  <picture>
    
      <source media="(max-width: 480px)" srcset="/assets/img/hackernew-480.webp"></source>
    
      <source media="(max-width: 800px)" srcset="/assets/img/hackernew-800.webp"></source>
    
      <source media="(max-width: 1400px)" srcset="/assets/img/hackernew-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/hackernew.png">

  </picture>

  

</figure>

<p>Because the time has a larger exponent than the votes, an article‚Äôs score will eventually drop to zero, so nothing stays on the front page too long. This exponent is known as <em>gravity</em>.</p>

<p>But for efficiency, stories are individually reranked only occasionally. When a story is upvoted, it is reranked and moved up or down the list to its appropriate spot, leaving the other stories unchanged. Thus, the amount of reranking is significantly reduced.</p>

<p>There is, however, the possibility that a story stops getting votes and ends up stuck in a high position. To avoid this, every 30 seconds one of the top 50 stories is randomly selected and reranked. The consequence is that a story may be ‚Äúwrongly‚Äù ranked for many minutes if it isn‚Äôt getting votes. In addition, pages can be cached for 90 seconds.The score for an article shoots up rapidly and then slowly drops over many hours.</p>

<figure>

  <picture>
    
      <source media="(max-width: 480px)" srcset="/assets/img/hackernew1-480.webp"></source>
    
      <source media="(max-width: 800px)" srcset="/assets/img/hackernew1-800.webp"></source>
    
      <source media="(max-width: 1400px)" srcset="/assets/img/hackernew1-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/hackernew1.png">

  </picture>

  

</figure>

<p>The scoring formula accounts for much of this: an article getting a constant rate of votes will peak quickly and then gradually descend. But the observed peak is even faster - this is because articles tend to get a lot of votes in the first hour or two, and then the voting rate drops off.</p>

<p>Combining these two factors yields the steep curves shown.The green triangles and text show where ‚Äúcontroversy‚Äù penalties were applied. The blue triangles and text show where articles were penalized into oblivion, dropping off the top 60. Milder penalties are not shown here.</p>

<h2 id="2-reddit-ranking">2. Reddit Ranking</h2>

<p><a href="https://medium.com/hacking-and-gonzo/how-reddit-ranking-algorithms-work-ef111e33d0d9" target="_blank" rel="noopener noreferrer">reddit algorithms intro</a></p>

<p>Use log: Idea of diminishing return.score is getting bigger as time passes by</p>

<figure>

  <picture>
    
      <source media="(max-width: 480px)" srcset="/assets/img/imagew-480.webp"></source>
    
      <source media="(max-width: 800px)" srcset="/assets/img/imagew-800.webp"></source>
    
      <source media="(max-width: 1400px)" srcset="/assets/img/imagew-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/imagew.png">

  </picture>

  

</figure>

<h2 id="3-average-rating">3. Average Rating</h2>

<p>Confidence: Normal, binomial,</p>

<p><strong>Wilson Score Interval</strong></p>

<figure>

  <picture>
    
      <source media="(max-width: 480px)" srcset="/assets/img/wilson-480.webp"></source>
    
      <source media="(max-width: 800px)" srcset="/assets/img/wilson-800.webp"></source>
    
      <source media="(max-width: 1400px)" srcset="/assets/img/wilson-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/wilson.png">

  </picture>

  

</figure>

<p><a href="https://en.wikipedia.org/wiki/Binomial_proportion_confidence_interval" target="_blank" rel="noopener noreferrer">Binomial proportion confidence interval</a></p>

<p><a href="https://www.evanmiller.org/how-not-to-sort-by-average-rating.html" target="_blank" rel="noopener noreferrer">how to not sort by average rating</a></p>

<p>Score = Lower bound of Wilson score confidence interval for a Bernoulli parameter</p>

<p><strong>Smoothing:</strong></p>

<figure>

  <picture>
    
      <source media="(max-width: 480px)" srcset="/assets/img/smoothing-480.webp"></source>
    
      <source media="(max-width: 800px)" srcset="/assets/img/smoothing-800.webp"></source>
    
      <source media="(max-width: 1400px)" srcset="/assets/img/smoothing-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/smoothing.png">

  </picture>

  

</figure>

<p><strong>Explore-exploit dilemma</strong></p>

<figure>

  <picture>
    
      <source media="(max-width: 480px)" srcset="/assets/img/deli-480.webp"></source>
    
      <source media="(max-width: 800px)" srcset="/assets/img/deli-800.webp"></source>
    
      <source media="(max-width: 1400px)" srcset="/assets/img/deli-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/deli.png">

  </picture>

  

</figure>

<p><strong>Bayesian</strong><a href="https://en.wikipedia.org/wiki/Conjugate_prior" target="_blank" rel="noopener noreferrer">Conjugate prior</a></p>

<figure>

  <picture>
    
      <source media="(max-width: 480px)" srcset="/assets/img/bayes1-480.webp"></source>
    
      <source media="(max-width: 800px)" srcset="/assets/img/bayes1-800.webp"></source>
    
      <source media="(max-width: 1400px)" srcset="/assets/img/bayes1-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/bayes1.png">

  </picture>

  

</figure>

<figure>

  <picture>
    
      <source media="(max-width: 480px)" srcset="/assets/img/bayes2-480.webp"></source>
    
      <source media="(max-width: 800px)" srcset="/assets/img/bayes2-800.webp"></source>
    
      <source media="(max-width: 1400px)" srcset="/assets/img/bayes2-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/bayes2.png">

  </picture>

  

</figure>

<figure>

  <picture>
    
      <source media="(max-width: 480px)" srcset="/assets/img/bayes3-480.webp"></source>
    
      <source media="(max-width: 800px)" srcset="/assets/img/bayes3-800.webp"></source>
    
      <source media="(max-width: 1400px)" srcset="/assets/img/bayes3-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/bayes3.png">

  </picture>

  

</figure>

<figure>

  <picture>
    
      <source media="(max-width: 480px)" srcset="/assets/img/bayes4-480.webp"></source>
    
      <source media="(max-width: 800px)" srcset="/assets/img/bayes4-800.webp"></source>
    
      <source media="(max-width: 1400px)" srcset="/assets/img/bayes4-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/bayes4.png">

  </picture>

  

</figure>

<figure>

  <picture>
    
      <source media="(max-width: 480px)" srcset="/assets/img/bayes5-480.webp"></source>
    
      <source media="(max-width: 800px)" srcset="/assets/img/bayes5-800.webp"></source>
    
      <source media="(max-width: 1400px)" srcset="/assets/img/bayes5-1400.webp"></source>
    

    <!-- Fallback to the original file -->
    <img class="img-fluid rounded z-depth-1" src="/assets/img/bayes5.png">

  </picture>

  

</figure>


  </article>

  

</div>

    </div>

    <!-- Footer -->

    
<footer class="fixed-bottom">
  <div class="container mt-0">
    ¬© Copyright 2022 Manqiu  L..
    Powered by <a href="http://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" target="_blank" rel="noopener noreferrer">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="noopener noreferrer">Unsplash</a>.

    
    
  </div>
</footer>



  </body>

  <!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>

  <!-- Bootsrap & MDB scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.4/umd/popper.min.js" integrity="sha512-eUQ9hGdLjBjY3F41CScH3UX+4JDSI9zXeroz7hJ+RteoCaY+GP/LDoM8AO+Pt+DRFw3nXqsjh9Zsts8hnYv8/A==" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha512-M5KW3ztuIICmVIhjSqXe01oV2bpe248gOxqmlcYrEzAvws7Pw3z6BK0iGbrwvdrUQUhi3eXgtxp5I8PDo9YfjQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js" integrity="sha512-Mug9KHKmroQFMLm93zGrjhibM2z2Obg9l6qFG2qKjXEXkMp/VDkI4uju9m4QKPjWSwQ6O2qzZEnJDEeCw0Blcw==" crossorigin="anonymous"></script>

  
<!-- Mansory & imagesLoaded -->
<script defer src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<script defer src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
<script defer src="/assets/js/mansory.js" type="text/javascript"></script>


  


<!-- Medium Zoom JS -->
<script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script>
<script src="/assets/js/zoom.js"></script>


<!-- Load Common JS -->
<script src="/assets/js/common.js"></script>

  
<!-- MathJax -->
<script type="text/javascript">
  window.MathJax = {
    tex: {
      tags: 'ams'
    }
  };
</script>
<script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
<script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>


  





</html>
